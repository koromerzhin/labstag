{% set bodyclass = "body-login" %}
{% extends 'global.html.twig' %}
{% block page_title %}Log in!{% endblock %}
{% block body %}
    <div class="form-login">
        <h1>Please sign in</h1>
        {% if error %}
            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
        {% endif %}
        {{ form(formLogin) }}
        {% set state = guard_route('app_lost') %}
        {% if state == true %}
            <a href="{{ path("app_lost") }}">J'ai perdu mon mot de passe</a>
        {% endif %}
        {% set state = guard_route('connect_start') %}
        {% if state == true and oauths|length != 0 %}
            <div class="oauth">
                <div class="oauth-title">Se connecter avec :</div>
                <div class="oauth-btns">
                {% for oauth in oauths %}
                    <a href="{{ path('connect_start', {'oauthCode': oauth.name}) }}" title="{{ oauth.name|e }}">
                        <i class="fab fa-{{ oauth.name }}"></i>
                        {{ oauth.name }}
                    </a>
                {% endfor %}
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}
