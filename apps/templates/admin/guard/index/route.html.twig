<table is="guard-route" data-url="{{ path('api_guard_route') }}">
    <thead>
        <tr>
            <th rowspan=2>
                Route
            </th>
            <th rowspan=2>
                Actions
            </th>
            {% for group in groups %}
                <th>
                    {{ group.name }}
                </th>
            {% endfor %}
        </tr>
        <tr>
            {% for group in groups %}
                <th>
                    {% if 'superadmin' != group.code %}
                        <guard-routegroup
                            data-state=0
                            data-url="{{ path('api_guard_routegroup', {'group' : group.id}) }}"
                            data-token="{{ csrf_token('guard') }}"
                        ></guard-routegroup>
                    {% else %}
                        ----
                    {% endif %}
                </th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
    {% for route in routes %}
        <tr>
            <td>
                {{ route.name }}
            </td>
            <td>
                <guard-routegroups
                    data-state=0
                    data-url="{{ path('api_guard_routegroups', {'group' : group.id}) }}"
                    data-route="{{ route.name|e }}"
                    data-token="{{ csrf_token('guard') }}"
                ></guard-routegroups>
            </td>
            {% for group in groups %}
                <td>
                    {% if 'superadmin' != group.code %}
                        <guard-routesetgroup
                            title="{{ group.name|e }}"
                            data-state=0
                            data-groupe="{{ group.code|e }}"
                            data-route="{{ route.name|e }}"
                            data-url="{{ path('api_guard_routesetgroup', {'group' : group.id, 'route': route.name}) }}"
                            data-token="{{ csrf_token('guard') }}"
                        ></guard-routesetgroup>
                    {% else %}
                        ---
                    {% endif %}
                </td>
            {% endfor %}
        </tr>
    {% else %}
        <tr>
            <td colspan="{{ groups|length+2 }}" class="text-center">no records found</td>
        </tr>
    {% endfor %}
    </tbody>
</table>